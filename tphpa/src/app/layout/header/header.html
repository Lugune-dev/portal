<!-- Sub Navigation Bar -->

<div class="sub-nav-container">
  <div class="sub-nav-left">
    <a href="https://www.instagram.com/tphpa_tz/" target="_blank" aria-label="Linkedin"><i class="fab fa-linkedin"></i></a>
    <a href="https://www.linkedin.com/in/tphpa-news-a33863271/" target="_blank" aria-label="Youtube"><i class="fab fa-youtube"></i></a>
    <a href="https://www.youtube.com/@tphpahabaritv82" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
    <span class="domain">tphpaportal.go.tz</span>
    <span class="contact"><i class="fas fa-phone"></i> +255 123 456 789</span>
    <span class="contact">TPHPA</span>
  </div>
  <div class="sub-nav-right">
    <button (click)="changeLanguage('en')" [class.active]="languageService.getLanguage() === 'en'">{{ 'english' | translate | async }}</button>
    <span class="divider">|</span>
    <button (click)="changeLanguage('sw')" [class.active]="languageService.getLanguage() === 'sw'">{{ 'swahili' | translate | async }}</button>
  </div>
</div>

<!-- Main Header -->
<header class="fixed-header bg-white shadow-lg z-40" style="width: 100%">
  <nav class="flex justify-between items-center px-4 py-3 max-w-7xl mx-auto">
    <a [routerLink]="'/'" class="flex items-center no-underline">
      <img src="assets/images/logo.png" alt="TPHPA Logo" class="h-12 w-auto">
    </a>

    <button class="md:hidden bg-none border-none text-black text-xl p-2 cursor-pointer" (click)="toggleMenu()">
      <i class="fas fa-bars"></i>
    </button>

    <div class="hidden md:flex items-center ml-auto gap-4">
      <ng-container *ngIf="!isAuthenticated">
        <a class="px-3 py-2 no-underline text-black font-semibold transition hover:text-primary-600" [routerLink]="'/'" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">{{ 'home' | translate | async }}</a>


        
        <a class="px-3 py-2 no-underline text-black font-semibold transition hover:text-primary-600" [routerLink]="'/resources'" routerLinkActive="active">{{ 'resources' | translate | async }}</a>
        <a class="px-3 py-2 no-underline text-black font-semibold transition hover:text-primary-600" [routerLink]="'/careers'" routerLinkActive="active">{{ 'careers' | translate | async }}</a>
        <a class="px-3 py-2 no-underline text-black font-semibold transition hover:text-primary-600" [routerLink]="'/about'" routerLinkActive="active">{{ 'about' | translate | async }}</a>
        <a class="px-3 py-2 no-underline text-black font-semibold transition hover:text-primary-600" [routerLink]="'/contact'" routerLinkActive="active">{{ 'contact' | translate | async }}</a>

        <a class="bg-primary-600 text-white px-4 py-2 rounded-full font-semibold no-underline transition hover:bg-primary-700 ml-4" [routerLink]="'/login'">{{ 'signIn' | translate | async }}</a>
      </ng-container>

      <ng-container *ngIf="isAuthenticated">
        <a class="px-3 py-2 no-underline text-black font-semibold transition hover:text-primary-600" [routerLink]="'/employee'" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">{{ 'dashboard' | translate | async }}</a>

        <div class="relative">
          <a class="px-3 py-2 no-underline text-black font-semibold transition hover:text-primary-600 flex items-center gap-1" routerLinkActive="active">{{ 'reports' | translate | async }} <i class="fas fa-chevron-down text-sm"></i></a>
          <div class="absolute top-full left-0 bg-white min-w-48 shadow-lg z-10 rounded border hidden hover:block">
            <a class="block px-4 py-2 no-underline text-gray-700 hover:bg-gray-50 hover:text-primary-600" [routerLink]="'/employee/submit-report'" routerLinkActive="active">{{ 'submitReport' | translate | async }}</a>
            <a class="block px-4 py-2 no-underline text-gray-700 hover:bg-gray-50 hover:text-primary-600" [routerLink]="'/employee/my-reports'" routerLinkActive="active">{{ 'myReports' | translate | async }}</a>
          </div>
        </div>

        <div class="flex items-center gap-4 ml-4 mr-6">
          <span class="text-black font-normal">{{ 'welcome' | translate | async }}, {{ userName }}</span>
          <div class="w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-semibold text-sm">{{ getUserInitials() }}</div>
          <a class="bg-primary-600 text-white px-4 py-2 rounded-full font-semibold no-underline transition hover:bg-primary-700 cursor-pointer" (click)="logout()">{{ 'logout' | translate | async }}</a>
        </div>
      </ng-container>
    </div>

    <!-- Mobile Menu -->
    <div class="md:hidden absolute top-full left-0 right-0 bg-white shadow-lg border-t" [class.block]="isMenuOpen" [class.hidden]="!isMenuOpen">
      <div class="flex flex-col">
        <ng-container *ngIf="!isAuthenticated">
          <a class="px-4 py-3 no-underline text-black font-semibold border-b border-gray-200" [routerLink]="'/'" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">{{ 'home' | translate | async }}</a>

          <a class="px-4 py-3 no-underline text-black font-semibold border-b border-gray-200" [routerLink]="'/resources'" routerLinkActive="active">{{ 'resources' | translate | async }}</a>
           <a class="px-4 py-3 no-underline text-black font-semibold border-b border-gray-200" [routerLink]="'/careers'" routerLinkActive="active">{{ 'careers' | translate | async }}</a>
          <a class="px-4 py-3 no-underline text-black font-semibold border-b border-gray-200" [routerLink]="'/about'" routerLinkActive="active">{{ 'about' | translate | async }}</a>
          <a class="px-4 py-3 no-underline text-black font-semibold border-b border-gray-200" [routerLink]="'/contact'" routerLinkActive="active">{{ 'contact' | translate | async }}</a>
          <div class="px-4 py-3">
            <a class="bg-primary-600 text-white px-4 py-2 rounded-full font-semibold no-underline block text-center" [routerLink]="'/login'">{{ 'signIn' | translate | async }}</a>
          </div>
        </ng-container>

        <ng-container *ngIf="isAuthenticated">
          <a class="px-4 py-3 no-underline text-black font-semibold border-b border-gray-200" [routerLink]="'/employee'" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">{{ 'dashboard' | translate | async }}</a>
          <div class="border-b border-gray-200">
            <a class="px-4 py-3 no-underline text-black font-semibold flex items-center justify-between" routerLinkActive="active">{{ 'reports' | translate | async }} <i class="fas fa-chevron-down"></i></a>
            <div class="bg-gray-50">
              <a class="block px-6 py-2 no-underline text-gray-700 hover:bg-gray-100" [routerLink]="'/employee/submit-report'" routerLinkActive="active">{{ 'submitReport' | translate | async }}</a>
              <a class="block px-6 py-2 no-underline text-gray-700 hover:bg-gray-100" [routerLink]="'/employee/my-reports'" routerLinkActive="active">{{ 'myReports' | translate | async }}</a>
            </div>
          </div>
          <div class="px-4 py-3 flex flex-col items-center gap-2">
            <!-- <span class="text-black font-normal">{{ 'welcome' | translate | async }}, {{ userName }}</span>
            <div class="w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-semibold">{{ getUserInitials() }}</div> -->
            <!-- <a class="bg-primary-600 text-white px-3 py-2 rounded-full font-semibold no-underline cursor-pointer" (click)="logout()">{{ 'logout' | translate | async }}</a> -->
          </div>
        </ng-container>
      </div>
    </div>
  </nav>
</header>
