import{a as I}from"./chunk-QTJP277R.js";import{$ as n,Da as w,J as o,Q as C,R as M,Ta as P,Ua as y,W as x,_ as p,_a as k,aa as t,ba as u,ia as _,ja as m,ka as d,mb as R,nb as S,qb as E,sa as O,ta as v,ua as i,v as g,va as c,w as f,wa as h}from"./chunk-ZQSPQ25S.js";function V(r,a){if(r&1){let e=_();n(0,"button",17),m("click",function(){let l=g(e).$implicit,b=d();return f(b.setActiveSidebar(l))}),u(1,"i"),i(2),t()}if(r&2){let e=a.$implicit;O("active",e.active),p("routerLink",e.route),o(),v(e.icon),o(),h(" ",e.label," ")}}function T(r,a){if(r&1){let e=_();n(0,"button",33),m("click",function(){g(e);let l=d().$implicit,b=d();return f(b.downloadAttachment(l))}),i(1,"Download"),t()}}function D(r,a){if(r&1&&(n(0,"div",34),u(1,"i",35),n(2,"span"),i(3),t(),n(4,"span",36),i(5),t()()),r&2){let e=d().$implicit;o(3),c(e.attachment.name),o(2),h("(",(e.attachment.size/1024/1024).toFixed(2)," MB)")}}function A(r,a){if(r&1){let e=_();n(0,"div",18)(1,"div",19)(2,"div",20)(3,"h4",21),i(4),t(),n(5,"div",22)(6,"span",23),i(7),t(),n(8,"span",24),i(9),t(),n(10,"span",25),i(11),t()()(),n(12,"div",26)(13,"span"),i(14),t(),n(15,"div",27)(16,"button",28),m("click",function(){let l=g(e).$implicit,b=d();return f(b.viewReport(l))}),i(17,"View"),t(),x(18,T,2,0,"button",29),n(19,"button",30),m("click",function(){let l=g(e).$implicit,b=d();return f(b.deleteReport(l))}),i(20,"Delete"),t()()()(),n(21,"div",31)(22,"p"),i(23),t()(),x(24,D,6,2,"div",32),t()}if(r&2){let e=a.$implicit;o(4),c(e.title),o(3),c(e.type),o(2),h("Submitted by: ",e.submitter),o(2),c(e.submittedDate),o(2),v(w("report-status ","status-"+e.status.toLowerCase())),o(),c(e.status),o(4),p("ngIf",e.attachment),o(5),c(e.description),o(),p("ngIf",e.attachment)}}function j(r,a){r&1&&(n(0,"div",37),u(1,"i",38),n(2,"h4"),i(3,"No Reports Found"),t(),n(4,"p"),i(5,"No reports have been submitted yet."),t()())}function F(r,a){if(r&1){let e=_();n(0,"div",45)(1,"label"),i(2,"Attachment:"),t(),n(3,"div",48),u(4,"i",35),n(5,"span"),i(6),t(),n(7,"button",49),m("click",function(){g(e);let l=d(3);return f(l.downloadAttachment(l.selectedReport))}),i(8,"Download"),t()()()}if(r&2){let e=d(3);o(6),c(e.selectedReport.attachment.name)}}function L(r,a){if(r&1&&(n(0,"div",44)(1,"div",45)(2,"label"),i(3,"Title:"),t(),n(4,"span"),i(5),t()(),n(6,"div",45)(7,"label"),i(8,"Type:"),t(),n(9,"span"),i(10),t()(),n(11,"div",45)(12,"label"),i(13,"Submitter:"),t(),n(14,"span"),i(15),t()(),n(16,"div",45)(17,"label"),i(18,"Submitted Date:"),t(),n(19,"span"),i(20),t()(),n(21,"div",45)(22,"label"),i(23,"Status:"),t(),n(24,"span"),i(25),t()(),n(26,"div",45)(27,"label"),i(28,"Description:"),t(),n(29,"div",46),i(30),t()(),x(31,F,9,1,"div",47),t()),r&2){let e=d(2);o(5),c(e.selectedReport.title),o(5),c(e.selectedReport.type),o(5),c(e.selectedReport.submitter),o(5),c(e.selectedReport.submittedDate),o(4),v(w("status-badge ","status-"+e.selectedReport.status.toLowerCase())),o(),c(e.selectedReport.status),o(5),c(e.selectedReport.description),o(),p("ngIf",e.selectedReport.attachment)}}function N(r,a){if(r&1){let e=_();n(0,"div",39),m("click",function(){g(e);let l=d();return f(l.closeModal())}),n(1,"div",40),m("click",function(l){return g(e),f(l.stopPropagation())}),n(2,"div",41)(3,"h3"),i(4,"Report Details"),t(),n(5,"button",42),m("click",function(){g(e);let l=d();return f(l.closeModal())}),i(6,"\xD7"),t()(),x(7,L,32,10,"div",43),t()()}if(r&2){let e=d();o(7),p("ngIf",e.selectedReport)}}var z=class r{constructor(a,e){this.router=a;this.reportService=e}reports=[];selectedReport=null;sidebarItems=[{icon:"fas fa-tachometer-alt",label:"Dashboard",active:!1,route:"/admin/dashboard"},{icon:"fas fa-bullhorn",label:"Advertisements",active:!1,route:"/admin/advertisements"},{icon:"fas fa-users",label:"User List",active:!1,route:"/admin/user-list"},{icon:"fas fa-user-plus",label:"Register User",active:!1,route:"/admin/user-registration"},{icon:"fas fa-chart-bar",label:"Reports",active:!0,route:"/admin/reports"},{icon:"fas fa-cog",label:"Settings",active:!1,route:"/admin/settings"}];ngOnInit(){this.loadReports()}loadReports(){this.reportService.getAllReports().subscribe({next:a=>{this.reports=a.map(e=>({id:e.id,title:`Report #${e.id}`,description:e.comments||"No description available",type:e.type||"GENERAL",submitter:e.submitter_name||"Unknown",submittedDate:e.submitted_date,status:e.status}))},error:a=>{console.error("Error loading reports:",a),this.reports=[]}})}viewReport(a){this.selectedReport=a}closeModal(){this.selectedReport=null}downloadAttachment(a){console.log("Download attachment not available for report:",a.id)}deleteReport(a){confirm("Are you sure you want to delete this report?")&&this.reportService.deleteReport(a.id).subscribe({next:()=>{this.loadReports()},error:e=>{console.error("Error deleting report:",e)}})}setActiveSidebar(a){this.sidebarItems.forEach(e=>e.active=!1),a.active=!0}logout(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(C(R),C(I))};static \u0275cmp=M({type:r,selectors:[["app-reports"]],decls:28,vars:4,consts:[[1,"dashboard-container"],[1,"w-72","bg-gradient-to-br","from-gray-600","to-green-700","text-white","p-8","shadow-xl","fixed","h-full","left-0","top-0","overflow-y-auto","z-50"],["class","sidebar-btn",3,"active","routerLink","click",4,"ngFor","ngForOf"],[1,"main-content"],[1,"content-header"],[1,"auth-section"],[1,"text-gray-700","font-semibold","bg-gradient-to-r","from-gray-600","to-green-700","bg-clip-text","text-transparent"],[1,"w-11","h-11","rounded-full","bg-gradient-to-r","from-gray-600","to-green-700","text-white","flex","items-center","justify-center","font-bold","cursor-pointer","transition-all","duration-300","hover:scale-110","shadow-md","border-2","border-white/30"],[1,"px-5","py-2.5","bg-gradient-to-r","from-gray-600","to-green-700","text-white","border-none","rounded-xl","font-semibold","cursor-pointer","transition-all","duration-300","hover:from-gray-700","hover:to-green-800","hover:shadow-lg","hover:-translate-y-0.5","overflow-hidden","relative",3,"click"],[1,"view-content"],[1,"reports-container"],[1,"reports-content"],[1,"reports-section"],[1,"reports-list"],["class","report-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"sidebar-btn",3,"click","routerLink"],[1,"report-item"],[1,"report-header"],[1,"report-info"],[1,"report-title"],[1,"report-meta"],[1,"report-type"],[1,"report-submitter"],[1,"report-date"],[1,"report-actions"],[1,"action-buttons"],[1,"px-6","py-2","bg-green-900","text-white","border-none","rounded-lg","font-semibold","cursor-pointer","transition-all","duration-300","hover:bg-green-900","hover:shadow-lg","hover:-translate-y-0.5",3,"click"],["class","btn-download",3,"click",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"report-description"],["class","report-attachment",4,"ngIf"],[1,"btn-download",3,"click"],[1,"report-attachment"],[1,"fas","fa-paperclip"],[1,"file-size"],[1,"empty-state"],[1,"fas","fa-file-alt"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"detail-row"],[1,"description-text"],["class","detail-row",4,"ngIf"],[1,"attachment-info"],[1,"btn-download-small",3,"click"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),i(3,"Admin Portal"),t(),x(4,V,3,6,"button",2),t(),n(5,"div",3)(6,"div",4)(7,"h2"),i(8,"Reports Management"),t(),n(9,"div",5)(10,"span",6),i(11,"Welcome, Admin"),t(),n(12,"div",7),i(13,"A"),t(),n(14,"a",8),m("click",function(){return s.logout()}),i(15,"Logout"),t()()(),n(16,"div",9)(17,"div",10)(18,"p"),i(19,"View and manage all submitted reports from employees"),t(),n(20,"div",11)(21,"div",12)(22,"h3"),i(23,"All Reports"),t(),n(24,"div",13),x(25,A,25,11,"div",14),t(),x(26,j,6,0,"div",15),t(),x(27,N,8,1,"div",16),t()()()()()),e&2&&(o(4),p("ngForOf",s.sidebarItems),o(21),p("ngForOf",s.reports),o(),p("ngIf",s.reports.length===0),o(),p("ngIf",s.selectedReport))},dependencies:[k,P,y,E,S],styles:['.dashboard-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.sidebar[_ngcontent-%COMP%]{width:280px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:30px 20px;box-shadow:4px 0 15px #0000001a;position:fixed;height:100vh;left:0;top:0;overflow-y:auto;z-index:100}.sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 30px;font-size:1.5rem;font-weight:700;text-align:center;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3)}.sidebar-btn[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:15px 20px;margin-bottom:10px;background:#ffffff1a;border:none;border-radius:12px;color:#fff;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;text-decoration:none;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.sidebar-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:translate(5px);box-shadow:0 4px 12px #0003}.sidebar-btn.active[_ngcontent-%COMP%]{background:#ffffff40;box-shadow:0 4px 12px #0000004d;transform:translate(5px)}.sidebar-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:15px;font-size:1.2rem;width:20px;text-align:center}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:280px;padding:30px;background:#f8f9fa;min-height:100vh}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid #e9ecef}.content-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:2rem;font-weight:600}.auth-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:12px 20px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:16px;box-shadow:0 4px 12px #00000014;border:1px solid rgba(0,0,0,.06);position:relative;transition:all .3s ease}.auth-section[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000001f}.user-greeting[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:1rem;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.user-avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem;cursor:pointer;transition:all .3s ease;position:relative;border:2px solid rgba(255,255,255,.3)}.user-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #667eea66}.user-avatar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);z-index:-1;opacity:0;transition:opacity .3s ease}.user-avatar[_ngcontent-%COMP%]:hover:before{opacity:1}.btn-signin[_ngcontent-%COMP%]{padding:10px 18px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block;position:relative;overflow:hidden}.btn-signin[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn-signin[_ngcontent-%COMP%]:hover:before{left:100%}.btn-signin[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190);transform:translateY(-2px);box-shadow:0 6px 16px #667eea66}.view-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:30px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(0,0,0,.05)}.reports-container[_ngcontent-%COMP%]{max-width:100%}.reports-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;margin-bottom:30px}.reports-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;font-size:1.5rem;font-weight:600}.reports-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.report-item[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:20px;border:1px solid #e9ecef;transition:all .3s ease}.report-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.report-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px}.report-info[_ngcontent-%COMP%]{flex:1}.report-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;margin-bottom:8px}.report-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;font-size:.9rem;color:#666}.report-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}.report-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";margin-right:5px;color:#999}.report-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:before{content:"";margin-right:0}.report-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:10px}.report-status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:uppercase}.status-submitted[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-approved[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-reviewed[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-view[_ngcontent-%COMP%], .btn-download[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-view[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-view[_ngcontent-%COMP%]:hover{background:#0056b3}.btn-download[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-download[_ngcontent-%COMP%]:hover{background:#1e7e34}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#c82333}.report-description[_ngcontent-%COMP%]{margin-bottom:15px}.report-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;line-height:1.5}.report-attachment[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;color:#666}.report-attachment[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#007bff}.file-size[_ngcontent-%COMP%]{margin-left:8px;color:#999}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:0;max-width:600px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 10px 30px #0000004d}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.5rem;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#999;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#333}.modal-body[_ngcontent-%COMP%]{padding:30px}.detail-row[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;align-items:flex-start}.detail-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;min-width:120px;margin-right:20px}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .detail-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;color:#555}.description-text[_ngcontent-%COMP%]{line-height:1.5}.attachment-info[_ngcontent-%COMP%]{display:flex;align-items:center}.attachment-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#007bff}.btn-download-small[_ngcontent-%COMP%]{margin-left:10px;padding:4px 8px;background:#28a745;color:#fff;border:none;border-radius:4px;font-size:.8rem;cursor:pointer;transition:background .2s ease}.btn-download-small[_ngcontent-%COMP%]:hover{background:#1e7e34}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{position:static;width:100%;height:auto;padding:20px}.main-content[_ngcontent-%COMP%]{margin-left:0;padding:20px}.content-header[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}.auth-section[_ngcontent-%COMP%]{justify-content:center}.report-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.report-actions[_ngcontent-%COMP%]{align-items:flex-start}.report-meta[_ngcontent-%COMP%]{flex-direction:column;gap:5px}}']})};export{z as ReportsComponent};
