import{a as pe}from"./chunk-7CK3I62G.js";import{a as _e}from"./chunk-TYAXEZWJ.js";import{a as ce}from"./chunk-KSUGELIG.js";import{c as Q,d as X,e as Z,f as ee,i as te,j as ie,k as re,l as oe,m as ne,n as ae,o as le,p as de,r as se}from"./chunk-3CQ75ST4.js";import{a as me}from"./chunk-N5RQHMOU.js";import{$ as d,Ca as q,Fa as I,Ha as V,J as n,Ja as $,L as U,La as R,Pa as j,Q as x,R as B,Ta as P,Ua as G,W as g,Wa as J,Z as N,_ as l,_a as H,a as k,aa as a,b as E,ba as u,e as ue,eb as K,ia as w,ja as C,ka as s,kb as W,mb as Y,q as A,qa as z,t as O,ua as p,v as b,va as h,w as F,wa as y,x as L,y as M}from"./chunk-ZQSPQ25S.js";var S=ue(_e());var T=class i{constructor(t){this.http=t}apiUrl="/api";getOrganizationUnits(){return this.http.get(`${this.apiUrl}/organization-units`)}static \u0275fac=function(e){return new(e||i)(O(K))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})};var D=()=>[];function ye(i,t){i&1&&u(0,"div",7)}function xe(i,t){if(i&1&&(d(0,"div",8),u(1,"div",9),d(2,"p",10),p(3),a(),d(4,"p",11),p(5,"Please wait while we prepare your form"),a()()),i&2){let e=s();n(3),y("Loading ",e.formTypeCode," form...")}}function he(i,t){i&1&&(d(0,"span"),p(1,"Connection Error"),a())}function be(i,t){i&1&&p(0,"Error Loading Form")}function Fe(i,t){if(i&1){let e=w();d(0,"div",12)(1,"div",13),L(),d(2,"svg",14),u(3,"path",15),a(),M(),d(4,"h3",16),g(5,he,2,0,"span",17)(6,be,1,0,"ng-template",null,0,R),a()(),d(8,"pre",18),p(9),a(),d(10,"div",19)(11,"button",20),C("click",function(){b(e);let o=s();return F(o.retryConnection())}),u(12,"i",21),p(13," Retry Connection "),a(),d(14,"button",22),C("click",function(){b(e);let o=s();return F(o.backToFormsList())}),u(15,"i",23),p(16," Back to Forms "),a()()()}if(i&2){let e=z(7),r=s();n(5),l("ngIf",r.connectionError)("ngIfElse",e),n(4),h(r.error)}}function Ce(i,t){i&1&&(d(0,"span",51),p(1,"*"),a())}function Se(i,t){if(i&1&&u(0,"input",52),i&2){let e=s().$implicit;l("id",e.field_name)("formControlName",e.field_name)("placeholder",e.placeholder_text||"")("readonly",e.field_type==="readonly")}}function we(i,t){if(i&1&&u(0,"input",53),i&2){let e=s().$implicit;l("id",e.field_name)("formControlName",e.field_name)("placeholder",e.placeholder_text||"")}}function Ie(i,t){if(i&1&&u(0,"input",54),i&2){let e=s().$implicit;l("id",e.field_name)("formControlName",e.field_name)("placeholder",e.placeholder_text||"")}}function Te(i,t){if(i&1&&(d(0,"textarea",55),p(1,"              "),a()),i&2){let e=s().$implicit;l("id",e.field_name)("formControlName",e.field_name)("placeholder",e.placeholder_text||"")}}function ke(i,t){if(i&1&&(d(0,"option",59),p(1),a()),i&2){let e=t.$implicit;l("value",e.OrgUnitID),n(),h(e.UnitName)}}function De(i,t){if(i&1&&(d(0,"option",59),p(1),a()),i&2){let e=t.$implicit;l("value",e.value),n(),h(e.label)}}function Ee(i,t){if(i&1&&(d(0,"select",56)(1,"option",57),p(2),a(),g(3,ke,2,2,"option",58)(4,De,2,2,"option",58),a()),i&2){let e=s().$implicit,r=s(3);l("id",e.field_name)("formControlName",e.field_name),n(2),y("Section ",e.field_label),n(),l("ngForOf",e.field_name==="department"||e.field_name==="section"?r.organizationUnits:I(5,D)),n(),l("ngForOf",e.field_name!=="department"&&e.field_name!=="section"?e.options||I(6,D):I(7,D))}}function Ae(i,t){if(i&1&&(d(0,"div",71),p(1),a()),i&2){let e,r=s(3).$implicit,o=s(3);n(),y(" Approved: ",o.getSignatureTimestamp((e=o.dynamicForm.get(r.field_name))==null?null:e.value)," ")}}function Oe(i,t){i&1&&(d(0,"div",72),p(1," Pending external approval "),a())}function Le(i,t){if(i&1&&(d(0,"div",73),u(1,"i",74),p(2),V(3,"date"),a()),i&2){let e=s(3).$implicit,r=s(3);n(2),y(" Approval requested \u2022 ",$(3,1,r.fieldApprovalMeta[e.field_name].created_at,"short")," ")}}function Me(i,t){if(i&1){let e=w();d(0,"button",75),C("click",function(o){b(e);let c=s(3).$implicit,m=s(3);return o.preventDefault(),o.stopPropagation(),F(m.requestApprovalForField(c.field_name))}),u(1,"i",76),p(2," Request approval "),a()}}function Ue(i,t){i&1&&u(0,"i",77)}function Be(i,t){i&1&&u(0,"i",78)}function Ne(i,t){if(i&1&&(d(0,"div",61)(1,"div",26)(2,"div",62)(3,"div",63),p(4),a(),g(5,Ae,2,1,"div",64)(6,Oe,2,0,"div",65)(7,Le,4,4,"div",66),a(),d(8,"div",67),g(9,Me,3,0,"button",68)(10,Ue,1,0,"i",69)(11,Be,1,0,"i",70),a()()()),i&2){let e,r,o,c,m,v,_=s(2).$implicit,f=s(3);n(4),h(f.getSignatureDisplayValue((e=f.dynamicForm.get(_.field_name))==null?null:e.value,_.field_name)),n(),l("ngIf",f.getSignatureTimestamp((r=f.dynamicForm.get(_.field_name))==null?null:r.value)),n(),l("ngIf",!((o=f.dynamicForm.get(_.field_name))!=null&&o.value)&&!(f.fieldApprovalMeta&&f.fieldApprovalMeta[_.field_name]&&f.fieldApprovalMeta[_.field_name].status==="pending")),n(),l("ngIf",f.fieldApprovalMeta&&f.fieldApprovalMeta[_.field_name]&&f.fieldApprovalMeta[_.field_name].status==="pending"),n(2),l("ngIf",!((c=f.dynamicForm.get(_.field_name))!=null&&c.value)&&!(f.fieldApprovalMeta&&f.fieldApprovalMeta[_.field_name]&&f.fieldApprovalMeta[_.field_name].status==="pending")),n(),l("ngIf",(m=f.dynamicForm.get(_.field_name))==null?null:m.value),n(),l("ngIf",!((v=f.dynamicForm.get(_.field_name))!=null&&v.value)&&!(f.fieldApprovalMeta&&f.fieldApprovalMeta[_.field_name]&&f.fieldApprovalMeta[_.field_name].status==="pending"))}}function ze(i,t){if(i&1){let e=w();d(0,"div",81)(1,"button",82),C("click",function(o){b(e);let c=s(3).$implicit,m=s(3);return o.preventDefault(),o.stopPropagation(),m.debugField(c),F(m.onSign(c.field_name))}),u(2,"i",83),p(3),a()()}if(i&2){let e=s(3).$implicit,r=s(3);n(),l("title",q(r.canSign?"Sign "+e.field_label:"Signing unavailable"))("disabled",!r.canSign),N("aria-disabled",!r.canSign),n(2),y(" Sign ",e.field_label," ")}}function qe(i,t){if(i&1&&(d(0,"div",84)(1,"div",26)(2,"div",62)(3,"div",85),p(4),a(),d(5,"div",86),p(6),a()(),d(7,"div",87),u(8,"i",88),a()()()),i&2){let e,r,o=s(3).$implicit,c=s(3);n(4),h(c.getSignatureDisplayValue((e=c.dynamicForm.get(o.field_name))==null?null:e.value)),n(2),y(" Signed: ",c.getSignatureTimestamp((r=c.dynamicForm.get(o.field_name))==null?null:r.value)," ")}}function Ve(i,t){if(i&1&&(d(0,"div",42),g(1,ze,4,5,"div",79)(2,qe,9,2,"div",80),a()),i&2){let e,r,o=s(2).$implicit,c=s(3);n(),l("ngIf",!((e=c.dynamicForm.get(o.field_name))!=null&&e.value)),n(),l("ngIf",((r=c.dynamicForm.get(o.field_name))==null?null:r.value)||c.signedFields[o.field_name])}}function $e(i,t){if(i&1&&(d(0,"div",42),g(1,Ne,12,7,"div",60)(2,Ve,3,2,"div",50),a()),i&2){let e=s().$implicit,r=s(3);n(),l("ngIf",r.isExternalField(e)),n(),l("ngIf",!r.isExternalField(e))}}function Re(i,t){if(i&1&&(d(0,"div",42)(1,"label",43),p(2),g(3,Ce,2,0,"span",44),a(),g(4,Se,1,4,"input",45)(5,we,1,3,"input",46)(6,Ie,1,3,"input",47)(7,Te,2,3,"textarea",48)(8,Ee,5,8,"select",49)(9,$e,3,2,"div",50),a()),i&2){let e=t.$implicit,r=s(3);n(),l("for",e.field_name),n(),y(" ",r.getApprovalLabel(e)," "),n(),l("ngIf",e.is_required),n(),l("ngIf",(e.field_type==="text"||e.field_type==="readonly")&&e.field_name!=="department"&&e.field_name!=="section"),n(),l("ngIf",e.field_type==="number"),n(),l("ngIf",e.field_type==="date"),n(),l("ngIf",e.field_type==="textarea"),n(),l("ngIf",e.field_type==="select"||e.field_name==="department"||e.field_name==="section"),n(),l("ngIf",e.field_type==="signature")}}function je(i,t){if(i&1&&(d(0,"div",36)(1,"div",37)(2,"h3",38),u(3,"i",39),p(4),a()(),d(5,"div",40),g(6,Re,10,9,"div",41),a()()),i&2){let e=t.$implicit,r=s(2);n(4),y(" ",e.section_name," "),n(2),l("ngForOf",e.fields)("ngForTrackBy",r.trackByFieldId)}}function Pe(i,t){if(i&1){let e=w();d(0,"form",24)(1,"div",25)(2,"div",26)(3,"h2",27),p(4),a(),d(5,"span",28),p(6),a()()(),d(7,"div",29),g(8,je,7,3,"div",30),a(),d(9,"div",31)(10,"button",32),C("click",function(){b(e);let o=s();return F(o.backToFormsList())}),u(11,"i",33),p(12," Cancel "),a(),d(13,"button",34),C("click",function(){b(e);let o=s();return F(o.onSubmit())}),u(14,"i",35),p(15),a()()()}if(i&2){let e=s();l("formGroup",e.dynamicForm),n(4),h(e.formConfig.form_type_name),n(2),h(e.formTypeCode),n(2),l("ngForOf",e.formConfig.sections)("ngForTrackBy",e.trackBySectionId),n(7),y(" Submit ",e.formConfig.form_type_name," ")}}var fe=class i{constructor(t,e,r,o,c,m,v,_){this.fb=t;this.formService=e;this.route=r;this.router=o;this.cdr=c;this.authService=m;this.organizationService=v;this.approvals=_}formType="";showBack=!0;showSwitcher=!0;backToList=new U;formStructure=null;formConfig=null;dynamicForm;isLoading=!1;error="";connectionError=!1;formTypeCode="";organizationUnits=[];signedFields={};fieldApprovalMeta=null;ngOnInit(){this.loadOrganizationUnits(),this.formType?(this.formTypeCode=this.formType,this.loadForm(this.formType)):this.route.paramMap.subscribe(t=>{let e=t.get("formType");console.log("Route param formType:",e),e?(this.formTypeCode=e,this.loadForm(e)):(console.error("No form type found in route parameters."),this.error="No form type specified.",this.connectionError=!1,this.isLoading=!1)})}async requestApprovalForField(t,e){let r=this.formConfig&&this.formConfig.id||this.formTypeCode||null,o=this.authService.getUserId()||null;if(!r){console.error("requestApprovalForField: no form id or formTypeCode available");return}let c={formId:r,fieldName:t,requestorId:o??void 0,note:e};this.approvals.requestApproval(c).subscribe({next:m=>{console.log("Approval request response",m),this.signedFields[t]=!1;let v=m&&(m.id||m.insertId||m.approvalId)?m.id||m.insertId||m.approvalId:null;(this.fieldApprovalMeta=this.fieldApprovalMeta||{})[t]={status:"pending",created_at:m.created_at||new Date().toISOString(),mock:!!m.mock,approvalId:v},this.cdr.markForCheck(),v&&this.startApprovalPolling(v,t)},error:m=>{console.error("requestApprovalForField error",m),S.default.fire({icon:"error",title:"Approval Request Failed",text:"Could not send approval request. Please try again later."})}})}startApprovalPolling(t,e){let o=`approval_poll_${e}`;this[o]=setInterval(async()=>{try{let c=await this.approvals.getApprovalStatus(t).toPromise();if(!c||!c.approval)return;let m=c.approval;if(m.status&&m.status!=="pending"){if(clearInterval(this[o]),(this.fieldApprovalMeta=this.fieldApprovalMeta||{})[e]=E(k({},this.fieldApprovalMeta[e]),{status:m.status,approved_at:m.approved_at}),m.signature_payload)try{let v=typeof m.signature_payload=="string"?JSON.parse(m.signature_payload):m.signature_payload;this.dynamicForm.get(e)?.setValue(JSON.stringify(v)),this.signedFields[e]=!0}catch(v){console.warn("Failed to parse signature_payload",v)}this.cdr.markForCheck()}}catch(c){console.warn("Approval polling error for",t,c)}},5e3)}loadForm(t){this.isLoading=!0,this.error="",this.connectionError=!1,this.formConfig=null,this.formStructure=null,this.dynamicForm&&this.dynamicForm.reset(),console.log("Loading form structure for:",t),this.formService.getFormStructure(t).subscribe({next:e=>{console.log("Form structure received:",e),this.formStructure=e,this.formConfig=e,this.createFormGroup(),console.log("Form config loaded:",this.formConfig),this.formConfig&&this.formConfig.sections&&(console.log("Sections:",this.formConfig.sections),this.formConfig.sections.forEach(r=>{console.log("Section:",r.section_name),r.fields.forEach(o=>{console.log("Field:",o.field_name,"type:",o.field_type,"signature_type:",o.signature_type)})})),this.isLoading=!1,this.cdr.detectChanges()},error:e=>{this.isLoading=!1,this.formConfig=null,this.formStructure=null,this.error=e.message||"Failed to load form structure",this.connectionError=!0,console.error("Failed to load form structure:",e),this.cdr.detectChanges()}})}createFormGroup(){let t={};this.formStructure&&this.formStructure.sections?(this.formStructure.sections.forEach(e=>{e.fields.forEach(r=>{let o=r.is_required?[X.required]:[];t[r.field_name]=[r.default_value||"",o]})}),this.dynamicForm=this.fb.group(t),console.log("Form group created:",this.dynamicForm)):(console.error("Form structure is not valid. Cannot create form group."),this.dynamicForm=this.fb.group({}))}onSubmit(){if(this.formConfig?.sections.every(e=>e.fields.every(r=>{if(r.is_required&&r.field_type!=="signature"){let o=this.dynamicForm.get(r.field_name);return o&&o.valid&&o.value}return!0}))){console.log("Form Submitted!",this.dynamicForm.value);let e=this.authService.getUserId(),r=k({instance_id:Math.floor(Math.random()*1e6)+1,action_type:"submit",action_by:e,comments:""},this.dynamicForm.value);console.log("Submitting form data:",r),this.formService.submitForm(r,this.formTypeCode).subscribe({next:o=>{console.log("Form submission successful:",o),S.default.fire({icon:"success",title:"Success",text:"Your application has been submitted successfully!",confirmButtonColor:"#198754",confirmButtonText:"OK"}).then(()=>{this.dynamicForm.reset()})},error:o=>{console.error("Form submission failed:",o),S.default.fire({icon:"error",title:"Submission Failed",text:"There was an error submitting your form. Please try again.",confirmButtonColor:"#dc3545",confirmButtonText:"OK"})}})}else console.log("Form is invalid. Please fill all required fields."),this.dynamicForm.markAllAsTouched(),S.default.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields before submitting.",confirmButtonColor:"#ffc107",confirmButtonText:"OK"})}backToFormsList(){this.showBack?this.backToList.emit():this.router.navigate(["/"])}navigateToForm(t){let e=t.target.value;e&&e!==this.formTypeCode&&this.router.navigate(["/forms",e])}retryConnection(){this.loadForm(this.formTypeCode)}trackBySectionId(t,e){return e.section_id}trackByFieldId(t,e){return e.field_id}loadOrganizationUnits(){this.organizationService.getOrganizationUnits().subscribe({next:t=>{t.success?(this.organizationUnits=t.data,console.log("Organization units loaded:",this.organizationUnits)):console.error("Failed to load organization units")},error:t=>{console.error("Error loading organization units:",t)}})}signField(t){console.log("Sign button clicked for field:",t);let e=(t||"").toLowerCase();if(e.includes("director")||e.includes("director_general")){console.warn("Attempted to sign director-level field from dashboard:",t),S.default.fire({icon:"info",title:"Approval Required",text:"This field requires Director-level approval via the external approval workflow. Please request approval instead of signing here."});return}let r=this.authService.getUserId(),o=this.authService.getUserName()||"Unknown User",c=new Date().toISOString();if(console.log("User ID:",r),console.log("User Name:",o),console.log("Timestamp:",c),!r){console.error("No user ID found. Cannot sign field.");return}let m={signed_by:r,signed_by_name:o,signed_at:c,signature_type:"dashboard"};console.log("Signature data:",m),this.dynamicForm.get(t)?.setValue(JSON.stringify(m)),this.dynamicForm.get(t)?.markAsTouched(),this.signedFields[t]=!0,console.log("Form control value after signing:",this.dynamicForm.get(t)?.value),console.log("Signed fields:",this.signedFields),this.cdr.detectChanges()}onSign(t){if(typeof this.signField=="function")try{this.signField(t)}catch(e){console.error("onSign: signField threw an error",e)}else console.error("onSign: signField is not a function",this.signField)}get canSign(){return typeof this.signField=="function"}getSignatureDisplayValue(t,e){if(!t)return"";try{let r=typeof t=="string"?JSON.parse(t):t;if(r.signature_type==="external"){let o=e&&e.includes("director_general")?"Workflow Confirmed":"Electronically Approved";return`${r.signed_by_name} (${o})`}else return r.signed_by_name||"Signed"}catch{return t}}getSignatureTimestamp(t){if(!t)return"";try{let e=typeof t=="string"?JSON.parse(t):t;if(e.signed_at)return new Date(e.signed_at).toLocaleString()}catch{return""}return""}debugField(t){console.log("Field:",t.field_name,"type:",t.field_type,"signature_type:",t.signature_type,"value:",this.dynamicForm.get(t.field_name)?.value)}getApprovalLabel(t){if(!t)return"";if(t.signature_type==="external"){let e=(t.field_name||"").toLowerCase();return e.includes("director_general")?"Director General Approval":e.includes("director")?"Director Approval":(t.field_label||"").replace("Sign","Approval")}return t.field_label||""}isExternalField(t){if(!t)return!1;if(t.signature_type==="external")return!0;let e=(t.field_name||"").toLowerCase();if(e.includes("director_general")||e.includes("director"))return!0;let r=(t.field_label||"").toLowerCase();return!!(r.includes("director")||r.includes("director general")||r.includes("dg"))}isExternalByName(t){if(!t)return!1;let e=t.toLowerCase();if(this.formStructure&&this.formStructure.sections){for(let r of this.formStructure.sections)for(let o of r.fields)if((o.field_name||"").toLowerCase()===e)return this.isExternalField(o)}return!!(e.includes("director")||e.includes("dg")||e.includes("director_general")||e.includes("director-general"))}static \u0275fac=function(e){return new(e||i)(x(de),x(pe),x(W),x(Y),x(j),x(me),x(T),x(ce))};static \u0275cmp=B({type:i,selectors:[["app-dynamic-form"]],inputs:{formType:"formType",showBack:"showBack",showSwitcher:"showSwitcher"},outputs:{backToList:"backToList"},decls:6,vars:4,consts:[["errorTitle",""],[1,"min-h-screen","bg-gradient-to-br","from-gray-50","to-gray-100","py-8","px-4"],[1,"max-w-4xl","mx-auto"],["class","flex justify-between items-center mb-8",4,"ngIf"],["class","bg-white rounded-2xl shadow-xl p-12 text-center border border-gray-100",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-2xl p-8 shadow-lg",4,"ngIf"],["class","bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",3,"formGroup",4,"ngIf"],[1,"flex","justify-between","items-center","mb-8"],[1,"bg-white","rounded-2xl","shadow-xl","p-12","text-center","border","border-gray-100"],[1,"animate-spin","rounded-full","h-16","w-16","border-b-4","border-emerald-500","mx-auto","mb-6"],[1,"text-gray-600","text-lg","font-medium"],[1,"text-gray-500","text-sm","mt-2"],[1,"bg-red-50","border","border-red-200","rounded-2xl","p-8","shadow-lg"],[1,"flex","items-center","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-500","mr-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-xl","font-semibold","text-red-800"],[4,"ngIf","ngIfElse"],[1,"bg-red-100","p-4","rounded-xl","text-sm","text-red-700","mb-6","whitespace-pre-wrap","border","border-red-200"],[1,"flex","gap-4"],[1,"px-6","py-3","bg-red-600","text-white","rounded-xl","hover:bg-red-700","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-0.5","font-medium","flex","items-center",3,"click"],[1,"fas","fa-redo","mr-2"],[1,"px-6","py-3","bg-gray-600","text-white","rounded-xl","hover:bg-gray-700","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-0.5","font-medium","flex","items-center",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"bg-white","rounded-2xl","shadow-xl","overflow-hidden","border","border-gray-100",3,"formGroup"],[1,"bg-gradient-to-br","from-gray-600","to-green-700","px-8","py-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"px-4","py-2","bg-white/20","text-white","text-sm","font-medium","rounded-full","backdrop-blur-sm","border","border-white/30"],[1,"p-8","space-y-10"],["class","space-y-8",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100","px-8","py-6","flex","justify-end","gap-4","border-t","border-gray-200"],["type","button",1,"px-8","py-3","bg-gray-600","text-white","rounded-xl","hover:bg-gray-700","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-0.5","font-semibold","flex","items-center",3,"click"],[1,"fas","fa-times","mr-2"],["type","button",1,"px-8","py-3","bg-gradient-to-r","from-emerald-600","to-teal-700","text-white","rounded-xl","hover:from-emerald-700","hover:to-teal-800","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-0.5","font-semibold","flex","items-center",3,"click"],[1,"fas","fa-paper-plane","mr-2"],[1,"space-y-8"],[1,"border-b-2","border-gray-200","pb-4"],[1,"text-2xl","font-semibold","text-gray-800","flex","items-center"],[1,"fas","fa-folder-open","mr-3","text-emerald-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],["class","space-y-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"space-y-3"],[1,"block","text-sm","font-semibold","text-gray-700","flex","items-center",3,"for"],["class","text-red-500 ml-1",4,"ngIf"],["type","text","class","w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-100 disabled:cursor-not-allowed transition-all duration-300 hover:border-gray-400 text-gray-900 placeholder-gray-500",3,"id","formControlName","placeholder","readonly",4,"ngIf"],["type","number","class","w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-300 hover:border-gray-400 text-gray-900 placeholder-gray-500",3,"id","formControlName","placeholder",4,"ngIf"],["type","date","class","w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-300 hover:border-gray-400 text-gray-900",3,"id","formControlName","placeholder",4,"ngIf"],["rows","5","class","w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-vertical transition-all duration-300 hover:border-gray-400 text-gray-900 placeholder-gray-500",3,"id","formControlName","placeholder",4,"ngIf"],["class","w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white transition-all duration-300 hover:border-gray-400 text-gray-900",3,"id","formControlName",4,"ngIf"],["class","space-y-3",4,"ngIf"],[1,"text-red-500","ml-1"],["type","text",1,"w-full","px-4","py-3","border-2","border-gray-300","rounded-xl","focus:ring-2","focus:ring-emerald-500","focus:border-emerald-500","disabled:bg-gray-100","disabled:cursor-not-allowed","transition-all","duration-300","hover:border-gray-400","text-gray-900","placeholder-gray-500",3,"id","formControlName","placeholder","readonly"],["type","number",1,"w-full","px-4","py-3","border-2","border-gray-300","rounded-xl","focus:ring-2","focus:ring-emerald-500","focus:border-emerald-500","transition-all","duration-300","hover:border-gray-400","text-gray-900","placeholder-gray-500",3,"id","formControlName","placeholder"],["type","date",1,"w-full","px-4","py-3","border-2","border-gray-300","rounded-xl","focus:ring-2","focus:ring-emerald-500","focus:border-emerald-500","transition-all","duration-300","hover:border-gray-400","text-gray-900",3,"id","formControlName","placeholder"],["rows","5",1,"w-full","px-4","py-3","border-2","border-gray-300","rounded-xl","focus:ring-2","focus:ring-emerald-500","focus:border-emerald-500","resize-vertical","transition-all","duration-300","hover:border-gray-400","text-gray-900","placeholder-gray-500",3,"id","formControlName","placeholder"],[1,"w-full","px-4","py-3","border-2","border-gray-300","rounded-xl","focus:ring-2","focus:ring-emerald-500","focus:border-emerald-500","bg-white","transition-all","duration-300","hover:border-gray-400","text-gray-900",3,"id","formControlName"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","bg-gray-50 border-2 border-gray-200 rounded-xl p-4",4,"ngIf"],[1,"bg-gray-50","border-2","border-gray-200","rounded-xl","p-4"],[1,"flex-1"],[1,"font-medium","text-gray-900"],["class","text-sm text-gray-600 mt-1",4,"ngIf"],["class","text-sm text-gray-500 mt-1 italic",4,"ngIf"],["class","text-sm text-yellow-600 mt-1 flex items-center gap-2",4,"ngIf"],[1,"ml-4","flex","items-center","gap-2"],["type","button","class","px-3 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-all duration-200 text-sm font-medium flex items-center",3,"click",4,"ngIf"],["class","fas fa-check-circle text-green-600 text-xl",4,"ngIf"],["class","fas fa-clock text-yellow-600 text-xl",4,"ngIf"],[1,"text-sm","text-gray-600","mt-1"],[1,"text-sm","text-gray-500","mt-1","italic"],[1,"text-sm","text-yellow-600","mt-1","flex","items-center","gap-2"],[1,"fas","fa-clock","animate-spin"],["type","button",1,"px-3","py-2","bg-amber-500","text-white","rounded-lg","hover:bg-amber-600","transition-all","duration-200","text-sm","font-medium","flex","items-center",3,"click"],[1,"fas","fa-envelope","mr-2"],[1,"fas","fa-check-circle","text-green-600","text-xl"],[1,"fas","fa-clock","text-yellow-600","text-xl"],["class","flex items-center space-x-3",4,"ngIf"],["class","bg-emerald-50 border-2 border-emerald-200 rounded-xl p-4",4,"ngIf"],[1,"flex","items-center","space-x-3"],["type","button",1,"px-4","py-2","bg-emerald-600","text-white","rounded-lg","hover:bg-emerald-700","transition-all","duration-300","hover:shadow-lg","text-sm","font-medium","flex","items-center","cursor-pointer","focus:outline-none","focus:ring-2","focus:ring-emerald-500","disabled:opacity-60","disabled:cursor-not-allowed",3,"click","disabled","title"],[1,"fas","fa-signature","mr-2"],[1,"bg-emerald-50","border-2","border-emerald-200","rounded-xl","p-4"],[1,"font-medium","text-emerald-900"],[1,"text-sm","text-emerald-700","mt-1"],[1,"ml-4"],[1,"fas","fa-check-circle","text-emerald-600","text-xl"]],template:function(e,r){e&1&&(d(0,"div",1)(1,"div",2),g(2,ye,1,0,"div",3)(3,xe,6,1,"div",4)(4,Fe,17,3,"div",5)(5,Pe,16,6,"form",6),a()()),e&2&&(n(2),l("ngIf",r.showBack||r.showSwitcher),n(),l("ngIf",r.isLoading),n(),l("ngIf",r.error),n(),l("ngIf",!r.isLoading&&!r.error&&r.dynamicForm&&r.formConfig))},dependencies:[H,P,G,se,te,ae,le,Q,ie,ne,Z,ee,re,oe,J],encapsulation:2})};export{fe as a};
