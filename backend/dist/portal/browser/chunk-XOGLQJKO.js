import{a as G}from"./chunk-TQB2CH6F.js";import{a as T}from"./chunk-2WKX3BOH.js";import{c as I,d as v,e as B,f as O,i as L,k as j,l as A,p as N,r as R}from"./chunk-3CQ75ST4.js";import{a as D}from"./chunk-N5RQHMOU.js";import{$ as n,Ga as x,Ha as t,Ia as i,J as o,Q as b,R as y,Sa as _,Ua as k,Va as C,W as f,_ as m,_a as S,aa as r,ba as a,hb as P,ja as h,ka as w,mb as F,nb as M,qb as E,ua as d,va as c,wa as u}from"./chunk-ZQSPQ25S.js";var V=s=>({"is-invalid":s});function z(s,p){s&1&&(n(0,"div",47),a(1,"i",48),n(2,"span"),d(3),t(4,"translate"),t(5,"async"),r()()),s&2&&(o(3),c(i(5,3,i(4,1,"validEmailError"))))}function U(s,p){s&1&&(n(0,"div",47),a(1,"i",48),n(2,"span"),d(3),t(4,"translate"),t(5,"async"),r()()),s&2&&(o(3),c(i(5,3,i(4,1,"passwordRequired"))))}function Y(s,p){if(s&1&&(n(0,"div",49)(1,"div",50),a(2,"i",51),r(),n(3,"div",52),d(4),r()()),s&2){let l=w();o(4),u(" ",l.loginError," ")}}var q=class s{constructor(p,l,e,g){this.fb=p;this.authService=l;this.router=e;this.languageService=g;this.loginForm=this.fb.group({email:["",[v.required,v.email]],password:["",v.required]})}loginForm;submitted=!1;loginError=null;showPassword=!1;isLoading=!1;onSubmit(){if(this.submitted=!0,this.loginError=null,this.isLoading=!0,this.loginForm.valid){let{email:p,password:l}=this.loginForm.value;this.authService.login(p,l).subscribe({next:e=>{this.isLoading=!1;let g=e.user.UserRoleID;console.log(`User logged in with Role ID: ${g}`),setTimeout(()=>{switch(g){case 1:this.router.navigate(["/admin/dashboard"]);break;case 2:this.router.navigate(["/director-general/dashboard"]);break;case 3:this.router.navigate(["/director/dashboard"]);break;case 4:this.router.navigate(["/manager/dashboard"]);break;case 5:case 6:this.router.navigate(["/employee/dashboard"]);break;default:this.router.navigate(["/"]);break}},500),this.loginForm.reset(),this.submitted=!1},error:e=>{this.isLoading=!1,console.error("Login failed:",e),this.loginError=e.error?.message||"Login failed. Please check your credentials.",this.loginForm.patchValue({email:p,password:""}),this.submitted=!1,this.loginForm.controls.password.markAsPristine(),this.loginForm.controls.password.markAsUntouched()}})}else this.isLoading=!1}isFieldInvalid(p){let l=this.loginForm.get(p);return!!l&&l.invalid&&l.touched||this.submitted&&l.invalid}static \u0275fac=function(l){return new(l||s)(b(N),b(D),b(F),b(T))};static \u0275cmp=y({type:s,selectors:[["app-login"]],decls:88,vars:68,consts:[[1,"min-h-screen","bg-gradient-to-br","from-green-50","via-white","to-emerald-100","flex","items-center","justify-center","p-4"],[1,"max-w-md","w-full","space-y-8"],[1,"absolute","inset-0","overflow-hidden","pointer-events-none"],[1,"absolute","-top-40","-right-32","w-80","h-80","bg-green-200","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob"],[1,"absolute","-bottom-40","-left-32","w-80","h-80","bg-emerald-200","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-2000"],[1,"absolute","top-40","left-1/2","w-80","h-80","bg-teal-200","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-4000"],[1,"relative"],[1,"relative","bg-white/80","backdrop-blur-xl","rounded-3xl","shadow-2xl","border","border-white/20","overflow-hidden","transform","transition-all","duration-500","hover:shadow-3xl"],[1,"bg-gradient-to-r","from-green-600","to-emerald-500","p-6","text-center","relative","overflow-hidden"],[1,"absolute","inset-0","opacity-10"],[1,"absolute","top-0","left-0","w-20","h-20","bg-white","rounded-full","-translate-x-1/2","-translate-y-1/2"],[1,"absolute","bottom-0","right-0","w-32","h-32","bg-white","rounded-full","translate-x-1/2","translate-y-1/2"],[1,"relative","z-10"],[1,"flex","justify-center","mb-4"],["src","assets/images/logo.png","alt","Logo",1,"h-20","w-20","rounded-full","border-4","border-white/30","shadow-lg","transform","transition-transform","duration-300","hover:scale-110"],[1,"absolute","-inset-2","bg-green-400/20","rounded-full","blur-md","-z-10"],[1,"text-3xl","font-bold","text-white","mb-2"],[1,"text-green-100","text-sm"],[1,"p-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-2"],["for","email",1,"block","text-sm","font-semibold","text-gray-700"],[1,"relative","group"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"fas","fa-envelope","text-green-500","group-focus-within:text-green-600","transition-colors","duration-200"],["type","email","id","email","formControlName","email",1,"block","w-full","pl-10","pr-4","py-3","border","border-gray-300","rounded-xl","focus:ring-2","focus:ring-green-500","focus:border-transparent","bg-white/50","backdrop-blur-sm","transition-all","duration-200","placeholder-gray-400","[&.is-invalid]:border-red-500","[&.is-invalid]:ring-2","[&.is-invalid]:ring-red-200",3,"placeholder","ngClass"],["class","flex items-center space-x-1 text-red-500 text-sm animate-fade-in",4,"ngIf"],["for","password",1,"block","text-sm","font-semibold","text-gray-700"],[1,"fas","fa-lock","text-green-500","group-focus-within:text-green-600","transition-colors","duration-200"],["id","password","formControlName","password",1,"block","w-full","pl-10","pr-12","py-3","border","border-gray-300","rounded-xl","focus:ring-2","focus:ring-green-500","focus:border-transparent","bg-white/50","backdrop-blur-sm","transition-all","duration-200","placeholder-gray-400","[&.is-invalid]:border-red-500","[&.is-invalid]:ring-2","[&.is-invalid]:ring-red-200",3,"type","placeholder","ngClass"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-green-600","transition-colors","duration-200",3,"click"],[1,"fas",3,"ngClass"],["class","bg-red-50 border border-red-200 rounded-xl p-4 flex items-center space-x-3 animate-shake",4,"ngIf"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-2","cursor-pointer","group"],["type","checkbox","id","rememberMe",1,"sr-only"],[1,"w-5","h-5","border-2","border-gray-300","rounded-md","group-hover:border-green-500","transition-colors","duration-200","flex","items-center","justify-center"],[1,"fas","fa-check","text-white","text-xs","opacity-0","transition-opacity","duration-200"],[1,"text-sm","text-gray-600","group-hover:text-gray-800","transition-colors","duration-200"],["routerLink","/forgot-password",1,"text-sm","text-green-600","hover:text-green-700","font-medium","transition-colors","duration-200"],["type","submit",1,"w-full","bg-gradient-to-r","from-green-600","to-emerald-500","text-white","py-3","px-4","rounded-xl","font-semibold","shadow-lg","hover:shadow-xl","transform","hover:scale-[1.02]","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none","disabled:shadow-lg","group",3,"disabled"],[1,"flex","items-center","justify-center","space-x-2"],[1,"fas","fa-sign-in-alt","group-hover:translate-x-1","transition-transform","duration-200"],[1,"text-center","text-sm","text-gray-500"],["href","#",1,"text-green-600","hover:text-green-700","font-medium","transition-colors","duration-200"],[1,"absolute","-bottom-6","-left-6","w-12","h-12","bg-green-200","rounded-full","opacity-60","blur-sm"],[1,"absolute","-top-6","-right-6","w-16","h-16","bg-emerald-200","rounded-full","opacity-60","blur-sm"],[1,"flex","items-center","space-x-1","text-red-500","text-sm","animate-fade-in"],[1,"fas","fa-exclamation-circle"],[1,"bg-red-50","border","border-red-200","rounded-xl","p-4","flex","items-center","space-x-3","animate-shake"],[1,"flex-shrink-0"],[1,"fas","fa-exclamation-triangle","text-red-500"],[1,"text-red-700","text-sm"]],template:function(l,e){l&1&&(a(0,"br")(1,"br")(2,"br"),n(3,"div",0)(4,"div",1)(5,"div",2),a(6,"div",3)(7,"div",4)(8,"div",5),r(),n(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),a(13,"div",10)(14,"div",11),r(),n(15,"div",12)(16,"div",13)(17,"div",6),a(18,"img",14)(19,"div",15),r()(),n(20,"h2",16),d(21),t(22,"translate"),t(23,"async"),r(),n(24,"p",17),d(25),t(26,"translate"),t(27,"async"),r()()(),n(28,"div",18)(29,"form",19),h("ngSubmit",function(){return e.onSubmit()}),n(30,"div",20)(31,"label",21),d(32),t(33,"translate"),t(34,"async"),r(),n(35,"div",22)(36,"div",23),a(37,"i",24),r(),a(38,"input",25),t(39,"translate"),t(40,"async"),r(),f(41,z,6,5,"div",26),r(),n(42,"div",20)(43,"label",27),d(44),t(45,"translate"),t(46,"async"),r(),n(47,"div",22)(48,"div",23),a(49,"i",28),r(),a(50,"input",29),t(51,"translate"),t(52,"async"),n(53,"button",30),h("click",function(){return e.showPassword=!e.showPassword}),a(54,"i",31),r()(),f(55,U,6,5,"div",26),r(),f(56,Y,5,1,"div",32),n(57,"div",33)(58,"label",34)(59,"div",6),a(60,"input",35),n(61,"div",36),a(62,"i",37),r()(),n(63,"span",38),d(64),t(65,"translate"),t(66,"async"),r()(),n(67,"a",39),d(68),t(69,"translate"),t(70,"async"),r()(),n(71,"button",40)(72,"div",41),a(73,"i",42),n(74,"span"),d(75),t(76,"translate"),t(77,"async"),r()()(),n(78,"div",43),d(79),t(80,"translate"),t(81,"async"),n(82,"a",44),d(83),t(84,"translate"),t(85,"async"),r()()()()(),a(86,"div",45)(87,"div",46),r()()()),l&2&&(o(21),c(i(23,22,i(22,20,"welcomeBack"))),o(4),c(i(27,26,i(26,24,"signInToTphpa"))),o(4),m("formGroup",e.loginForm),o(3),u(" ",i(34,30,i(33,28,"emailAddress"))," "),o(6),m("placeholder",i(40,34,i(39,32,"enterEmail")))("ngClass",x(64,V,e.loginForm.controls.email.invalid&&e.loginForm.controls.email.touched||e.submitted&&e.loginForm.controls.email.invalid)),o(3),m("ngIf",e.loginForm.controls.email.invalid&&e.loginForm.controls.email.touched||e.submitted&&e.loginForm.controls.email.invalid),o(3),u(" ",i(46,38,i(45,36,"password"))," "),o(6),m("type",e.showPassword?"text":"password")("placeholder",i(52,42,i(51,40,"enterPassword")))("ngClass",x(66,V,e.loginForm.controls.password.invalid&&e.loginForm.controls.password.touched||e.submitted&&e.loginForm.controls.password.invalid)),o(4),m("ngClass",e.showPassword?"fa-eye-slash":"fa-eye"),o(),m("ngIf",e.loginForm.controls.password.invalid&&e.loginForm.controls.password.touched||e.submitted&&e.loginForm.controls.password.invalid),o(),m("ngIf",e.loginError),o(8),c(i(66,46,i(65,44,"rememberMe"))),o(4),u(" ",i(70,50,i(69,48,"forgotPassword"))," "),o(3),m("disabled",e.loginForm.invalid&&e.submitted),o(4),c(i(77,54,i(76,52,"signInAccount"))),o(4),u(" ",i(81,58,i(80,56,"noAccount"))," "),o(4),u(" ",i(85,62,i(84,60,"contactAdmin"))," "))},dependencies:[S,_,k,R,L,I,B,O,j,A,P,E,M,C,G],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css";@keyframes _ngcontent-%COMP%_blob{0%{transform:translate(0) scale(1)}33%{transform:translate(30px,-50px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}to{transform:translate(0) scale(1)}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-blob[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blob 7s infinite}.animation-delay-2000[_ngcontent-%COMP%]{animation-delay:2s}.animation-delay-4000[_ngcontent-%COMP%]{animation-delay:4s}.animate-shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#10b981;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#059669}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #10b9811a}input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]{background-color:#10b981;border-color:#10b981}input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:1}button[_ngcontent-%COMP%]:disabled{position:relative;overflow:hidden}button[_ngcontent-%COMP%]:disabled:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{left:-100%}to{left:100%}}.glass[_ngcontent-%COMP%]{background:#ffffff40;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.18)}*[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,transform,box-shadow;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1)}']})};export{q as LoginComponent};
