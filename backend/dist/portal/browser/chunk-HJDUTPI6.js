import{b as R,c as z,e as O,f as B,g as j,h as H,i as G,q}from"./chunk-3CQ75ST4.js";import{$ as e,Aa as _,Ba as v,Ha as k,J as o,Ja as T,Q as U,R as M,Ta as I,Ua as V,W as f,Wa as N,_ as x,_a as F,a as C,aa as t,ba as E,eb as L,hb as D,ia as h,ja as p,ka as m,nb as W,qb as P,sa as y,ta as S,ua as n,v as c,va as u,w as g,wa as w,xa as A,za as b}from"./chunk-ZQSPQ25S.js";function K(l,a){if(l&1){let i=h();e(0,"a",19),p("click",function(){let r=c(i).$implicit,d=m();return g(d.setActiveSidebar(r))}),E(1,"i",20),n(2),t()}if(l&2){let i=a.$implicit;y("bg-white/25",i.active),x("routerLink",i.route),o(),S(i.icon),o(),w(" ",i.label,`
`)}}function Q(l,a){if(l&1){let i=h();e(0,"tr")(1,"td",30),n(2),t(),e(3,"td",31),n(4),t(),e(5,"td",31),n(6),t(),e(7,"td",31),n(8),t(),e(9,"td",32)(10,"button",33),p("click",function(){let r=c(i).$implicit,d=m(2);return g(d.editUser(r))}),n(11,"Edit"),t(),e(12,"button",34),p("click",function(){let r=c(i).$implicit,d=m(2);return g(d.deleteUser(r.UserID))}),n(13,"Delete"),t()()()}if(l&2){let i=a.$implicit,s=m(2);o(2),A(" ",i.FirstName," ",i.LastName," "),o(2),u(i.Email),o(2),u(s.getRoleName(i.UserRoleID)),o(2),u(i.UnitName)}}function X(l,a){if(l&1&&(e(0,"div",21)(1,"div",22)(2,"h3",23),n(3,"User Management"),t(),e(4,"div",24)(5,"table",25)(6,"thead",26)(7,"tr")(8,"th",27),n(9,"Name"),t(),e(10,"th",27),n(11,"Email"),t(),e(12,"th",27),n(13,"Role"),t(),e(14,"th",27),n(15,"Unit"),t(),e(16,"th",27),n(17,"Actions"),t()()(),e(18,"tbody",28),f(19,Q,14,5,"tr",29),t()()()()()),l&2){let i=m();o(19),x("ngForOf",i.users)}}function Y(l,a){if(l&1){let i=h();e(0,"div",35)(1,"div",36)(2,"div",37)(3,"h3",38),n(4,"Edit User"),t(),e(5,"form",39),p("ngSubmit",function(){c(i);let r=m();return g(r.saveUser())}),e(6,"div",40)(7,"label",41),n(8,"First Name"),t(),e(9,"input",42),v("ngModelChange",function(r){c(i);let d=m();return _(d.editingUser.FirstName,r)||(d.editingUser.FirstName=r),g(r)}),t()(),e(10,"div",40)(11,"label",41),n(12,"Last Name"),t(),e(13,"input",43),v("ngModelChange",function(r){c(i);let d=m();return _(d.editingUser.LastName,r)||(d.editingUser.LastName=r),g(r)}),t()(),e(14,"div",40)(15,"label",41),n(16,"Email"),t(),e(17,"input",44),v("ngModelChange",function(r){c(i);let d=m();return _(d.editingUser.Email,r)||(d.editingUser.Email=r),g(r)}),t()(),e(18,"div",45)(19,"button",46),p("click",function(){c(i);let r=m();return g(r.editingUser=null)}),n(20,"Cancel"),t(),e(21,"button",47),n(22,"Save"),t()()()()()()}if(l&2){let i=m();o(9),b("ngModel",i.editingUser.FirstName),o(4),b("ngModel",i.editingUser.LastName),o(4),b("ngModel",i.editingUser.Email)}}function Z(l,a){if(l&1){let i=h();e(0,"tr")(1,"td",30),n(2),t(),e(3,"td",48),n(4),t(),e(5,"td",31)(6,"span",49),n(7),t()(),e(8,"td",32)(9,"button",50),p("click",function(){let r=c(i).$implicit,d=m(2);return g(d.editAd(r))}),n(10,"Edit"),t(),e(11,"button",34),p("click",function(){let r=c(i).$implicit,d=m(2);return g(d.deleteAd(r.id))}),n(12,"Delete"),t()()()}if(l&2){let i=a.$implicit;o(2),u(i.title),o(2),u(i.description),o(2),S(i.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),o(),w(" ",i.isActive?"Active":"Inactive"," ")}}function $(l,a){if(l&1&&(e(0,"div",21)(1,"div",22)(2,"h3",23),n(3,"Advertisement Management"),t(),e(4,"div",24)(5,"table",25)(6,"thead",26)(7,"tr")(8,"th",27),n(9,"Title"),t(),e(10,"th",27),n(11,"Description"),t(),e(12,"th",27),n(13,"Active"),t(),e(14,"th",27),n(15,"Actions"),t()()(),e(16,"tbody",28),f(17,Z,13,5,"tr",29),t()()()()()),l&2){let i=m();o(17),x("ngForOf",i.advertisements)}}function ee(l,a){if(l&1){let i=h();e(0,"div",35)(1,"div",36)(2,"div",37)(3,"h3",38),n(4,"Edit Advertisement"),t(),e(5,"form",39),p("ngSubmit",function(){c(i);let r=m();return g(r.saveAd())}),e(6,"div",40)(7,"label",41),n(8,"Title"),t(),e(9,"input",51),v("ngModelChange",function(r){c(i);let d=m();return _(d.editingAd.title,r)||(d.editingAd.title=r),g(r)}),t()(),e(10,"div",40)(11,"label",41),n(12,"Description"),t(),e(13,"textarea",52),v("ngModelChange",function(r){c(i);let d=m();return _(d.editingAd.description,r)||(d.editingAd.description=r),g(r)}),t()(),e(14,"div",40)(15,"label",41),n(16,"Link URL"),t(),e(17,"input",53),v("ngModelChange",function(r){c(i);let d=m();return _(d.editingAd.linkUrl,r)||(d.editingAd.linkUrl=r),g(r)}),t()(),e(18,"div",40)(19,"label",41),n(20,"Active"),t(),e(21,"input",54),v("ngModelChange",function(r){c(i);let d=m();return _(d.editingAd.isActive,r)||(d.editingAd.isActive=r),g(r)}),t()(),e(22,"div",45)(23,"button",55),p("click",function(){c(i);let r=m();return g(r.editingAd=null)}),n(24,"Cancel"),t(),e(25,"button",56),n(26,"Save"),t()()()()()()}if(l&2){let i=m();o(9),b("ngModel",i.editingAd.title),o(4),b("ngModel",i.editingAd.description),o(4),b("ngModel",i.editingAd.linkUrl),o(4),b("ngModel",i.editingAd.isActive)}}function te(l,a){if(l&1&&(e(0,"tr")(1,"td",30),n(2),t(),e(3,"td",31),n(4),t(),e(5,"td",57)(6,"span",49),n(7),t()(),e(8,"td",31),n(9),k(10,"date"),t()()),l&2){let i=a.$implicit,s=m(2);o(2),u(i.title),o(2),u(i.submitter_name),o(2),S(s.getStatusClass(i.status)),o(),w(" ",i.status," "),o(2),u(T(10,6,i.submitted_date,"short"))}}function ie(l,a){if(l&1&&(e(0,"div",21)(1,"div",22)(2,"h3",23),n(3,"Reports"),t(),e(4,"div",24)(5,"table",25)(6,"thead",26)(7,"tr")(8,"th",27),n(9,"Title"),t(),e(10,"th",27),n(11,"Submitter"),t(),e(12,"th",27),n(13,"Status"),t(),e(14,"th",27),n(15,"Date"),t()()(),e(16,"tbody",28),f(17,te,11,9,"tr",29),t()()()()()),l&2){let i=m();o(17),x("ngForOf",i.reports)}}function ne(l,a){if(l&1&&(e(0,"tr")(1,"td",30),n(2),t(),e(3,"td",31),n(4),t(),e(5,"td",31),n(6),t(),e(7,"td",31),n(8),t(),e(9,"td",31),n(10),t(),e(11,"td",31),n(12),k(13,"date"),t()()),l&2){let i=a.$implicit;o(2),u(i.instance_id),o(2),A("",i.FirstName," ",i.LastName),o(2),u(i.Email),o(2),u(i.UnitName),o(2),u(i.form_type_name),o(2),u(T(13,7,i.created_at,"short"))}}function re(l,a){if(l&1&&(e(0,"div",21)(1,"div",22)(2,"h3",23),n(3,"Applications"),t(),e(4,"div",24)(5,"table",25)(6,"thead",26)(7,"tr")(8,"th",27),n(9,"Instance ID"),t(),e(10,"th",27),n(11,"Name"),t(),e(12,"th",27),n(13,"Email"),t(),e(14,"th",27),n(15,"Unit"),t(),e(16,"th",27),n(17,"Type"),t(),e(18,"th",27),n(19,"Date"),t()()(),e(20,"tbody",28),f(21,ne,14,10,"tr",29),t()()()()()),l&2){let i=m();o(21),x("ngForOf",i.applications)}}var J=class l{constructor(a){this.http=a}activeTab="users";users=[];advertisements=[];reports=[];applications=[];editingUser=null;editingAd=null;sidebarItems=[{icon:"fas fa-tachometer-alt",label:"Dashboard",active:!1,route:"/admin/dashboard"},{icon:"fas fa-bullhorn",label:"Advertisements",active:!1,route:"/admin/advertisements"},{icon:"fas fa-users",label:"User List",active:!1,route:"/admin/user-list"},{icon:"fas fa-user-plus",label:"Register User",active:!1,route:"/admin/user-registration"},{icon:"fas fa-chart-bar",label:"Reports",active:!1,route:"/admin/reports"},{icon:"fas fa-cog",label:"Settings",active:!0,route:"/admin/settings"}];ngOnInit(){this.loadUsers(),this.loadAdvertisements(),this.loadReports(),this.loadApplications()}setActiveTab(a){this.activeTab=a}loadUsers(){this.http.get("https://portal-api-z927.onrender.com/api/users").subscribe(a=>{a.success&&(this.users=a.data)})}loadAdvertisements(){this.http.get("https://portal-api-z927.onrender.com/api/advertsements").subscribe(a=>{a.success&&(this.advertisements=a.data)})}loadReports(){this.http.get("https://portal-api-z927.onrender.com/api/reports").subscribe(a=>{a.success&&(this.reports=a.data)})}loadApplications(){this.http.get("https://portal-api-z927.onrender.com/api/forms").subscribe(a=>{a.success&&(this.applications=a.data)})}editUser(a){this.editingUser=C({},a)}saveUser(){this.editingUser&&this.http.put(`https://portal-api-z927.onrender.com/api/users/${this.editingUser.UserID}`,this.editingUser).subscribe(()=>{this.loadUsers(),this.editingUser=null})}deleteUser(a){confirm("Are you sure you want to delete this user?")&&this.http.delete(`https://portal-api-z927.onrender.com/api/users/${a}`).subscribe(()=>{this.loadUsers()})}editAd(a){this.editingAd=C({},a)}saveAd(){this.editingAd&&this.http.put(`https://portal-api-z927.onrender.com/api/advertsements/api/advertisements/${this.editingAd.id}`,this.editingAd).subscribe(()=>{this.loadAdvertisements(),this.editingAd=null})}deleteAd(a){confirm("Are you sure you want to delete this advertisement?")&&this.http.delete(`https://portal-api-z927.onrender.com/api/advertsements/api/advertisements/${a}`).subscribe(()=>{this.loadAdvertisements()})}getRoleName(a){return{1:"Admin",2:"Director General",3:"Director",4:"Manager",5:"Employee",6:"Employee"}[a]||"Unknown"}getStatusClass(a){switch(a.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"sent_to_director":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}setActiveSidebar(a){this.sidebarItems.forEach(i=>i.active=!1),a.active=!0}logout(){console.log("Logout clicked")}getGradient(a){return{"#26A69A":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","#4CAF50":"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","#FF9800":"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","#9C27B0":"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)","#2196F3":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","#FF5722":"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","#607D8B":"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}[a]||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}static \u0275fac=function(i){return new(i||l)(U(L))};static \u0275cmp=M({type:l,selectors:[["app-settings"]],decls:35,vars:23,consts:[[1,"flex","min-h-screen","bg-gradient-to-br","from-gray-50","to-gray-100"],[1,"w-72","bg-gradient-to-br","from-gray-600","to-green-700","text-white","p-8","shadow-xl","fixed","h-full","left-0","top-0","overflow-y-auto","z-50"],[1,"text-xl","font-bold","mb-8","text-center","text-white","drop-shadow-lg"],["class","flex items-center w-full px-5 py-4 mb-3 bg-white/10 border border-white/20 rounded-xl text-white font-medium cursor-pointer transition-all duration-300 hover:bg-white/20 hover:translate-x-1 hover:shadow-lg backdrop-blur-sm",3,"bg-white/25","routerLink","click",4,"ngFor","ngForOf"],[1,"flex-1","ml-72","p-8","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center","mb-8","pb-5","border-b-2","border-gray-200"],[1,"text-3xl","font-semibold","text-gray-800"],[1,"flex","items-center","gap-8","px-6","py-4","mr-4","bg-white","rounded-2xl","shadow-lg","border","border-gray-100","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1"],[1,"text-gray-700","font-semibold","bg-gradient-to-r","from-gray-600","to-green-700","bg-clip-text","text-transparent"],[1,"w-11","h-11","rounded-full","bg-gradient-to-r","from-gray-600","to-green-700","text-white","flex","items-center","justify-center","font-bold","cursor-pointer","transition-all","duration-300","hover:scale-110","shadow-md","border-2","border-white/30"],[1,"px-8","py-2.5","bg-gradient-to-r","from-gray-600","to-green-700","text-white","border-none","rounded-xl","font-semibold","cursor-pointer","transition-all","duration-300","hover:from-gray-700","hover:to-green-800","hover:shadow-lg","hover:-translate-y-0.5","overflow-hidden","relative",3,"click"],[1,"relative","z-10"],[1,"absolute","inset-0","bg-gradient-to-r","from-transparent","via-white/20","to-transparent","-translate-x-full","transition-transform","duration-700","hover:translate-x-full"],[1,"bg-white","rounded-2xl","p-8","shadow-lg","border","border-gray-100"],[1,"mb-6"],["aria-label","Tabs",1,"flex","space-x-4"],[1,"px-4","py-2","text-sm","font-medium","rounded-md","bg-gray-200","text-gray-700","hover:bg-gray-300",3,"click"],["class","bg-white shadow rounded-lg",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",4,"ngIf"],[1,"flex","items-center","w-full","px-5","py-4","mb-3","bg-white/10","border","border-white/20","rounded-xl","text-white","font-medium","cursor-pointer","transition-all","duration-300","hover:bg-white/20","hover:translate-x-1","hover:shadow-lg","backdrop-blur-sm",3,"click","routerLink"],[1,"mr-4","text-xl","w-5","text-center"],[1,"bg-white","shadow","rounded-lg"],[1,"px-4","py-5","sm:p-6"],[1,"text-lg","leading-6","font-medium","text-gray-900","mb-4"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","mr-2",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"relative","top-20","mx-auto","p-5","border","w-96","shadow-lg","rounded-md","bg-white"],[1,"mt-3"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[3,"ngSubmit"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["name","firstName","type","text",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["name","lastName","type","text",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["name","email","type","email",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-2"],["type","button",1,"px-4","py-2","bg-red-300","text-gray-700","rounded-md","hover:bg-gray-400",3,"click"],["type","submit",1,"px-4","py-2","bg-green-500","text-white","rounded-md","hover:bg-blue-600"],[1,"px-6","py-4","text-sm","text-gray-500"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full"],[1,"text-green-900","hover:text-indigo-900","mr-2",3,"click"],["name","title","type","text",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["name","description","rows","3",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["name","linkUrl","type","url",1,"mt-1","block","w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["name","isActive","type","checkbox",1,"mt-1",3,"ngModelChange","ngModel"],["type","button",1,"px-4","py-2","bg-gray-300","text-gray-700","rounded-md","hover:bg-gray-400",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-500","text-white","rounded-md","hover:bg-blue-600"],[1,"px-6","py-4","whitespace-nowrap"]],template:function(i,s){i&1&&(e(0,"div",0)(1,"div",1)(2,"h3",2),n(3,"Admin Portal"),t(),f(4,K,3,6,"a",3),t(),e(5,"div",4)(6,"div",5)(7,"h2",6),n(8,"Admin Settings"),t(),e(9,"div",7)(10,"span",8),n(11,"Welcome, Admin"),t(),e(12,"div",9),n(13,"A"),t(),e(14,"a",10),p("click",function(){return s.logout()}),e(15,"span",11),n(16,"Logout"),t(),E(17,"span",12),t()()(),e(18,"div",13)(19,"div",14)(20,"nav",15)(21,"button",16),p("click",function(){return s.setActiveTab("users")}),n(22," Users "),t(),e(23,"button",16),p("click",function(){return s.setActiveTab("advertisements")}),n(24," Advertisements "),t(),e(25,"button",16),p("click",function(){return s.setActiveTab("reports")}),n(26," Reports "),t(),e(27,"button",16),p("click",function(){return s.setActiveTab("applications")}),n(28," Applications "),t()()(),f(29,X,20,1,"div",17)(30,Y,23,3,"div",18)(31,$,18,1,"div",17)(32,ee,27,4,"div",18)(33,ie,18,1,"div",17)(34,re,22,1,"div",17),t()()()),i&2&&(o(4),x("ngForOf",s.sidebarItems),o(17),y("bg-blue-500",s.activeTab==="users")("text-white",s.activeTab==="users"),o(2),y("bg-blue-500",s.activeTab==="advertisements")("text-white",s.activeTab==="advertisements"),o(2),y("bg-blue-500",s.activeTab==="reports")("text-white",s.activeTab==="reports"),o(2),y("bg-blue-500",s.activeTab==="applications")("text-white",s.activeTab==="applications"),o(2),x("ngIf",s.activeTab==="users"),o(),x("ngIf",s.editingUser),o(),x("ngIf",s.activeTab==="advertisements"),o(),x("ngIf",s.editingAd),o(),x("ngIf",s.activeTab==="reports"),o(),x("ngIf",s.activeTab==="applications"))},dependencies:[F,I,V,D,q,G,z,R,O,B,H,j,P,W,N],encapsulation:2})};export{J as SettingsComponent};
